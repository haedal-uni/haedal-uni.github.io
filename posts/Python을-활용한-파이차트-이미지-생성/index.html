<!DOCTYPE html><html lang="ko" data-mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="Python을 활용한 파이차트 이미지 생성" /><meta property="og:locale" content="ko" /><meta name="description" content="Python을 활용한 파이 차트 이미지 생성 이번 글은 python에서 파이 차트를 만들어 js에서 이미지로 보여주는 과정을 정리한 글이다." /><meta property="og:description" content="Python을 활용한 파이 차트 이미지 생성 이번 글은 python에서 파이 차트를 만들어 js에서 이미지로 보여주는 과정을 정리한 글이다." /><link rel="canonical" href="https://haedal-uni.github.io//posts/Python%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-%ED%8C%8C%EC%9D%B4%EC%B0%A8%ED%8A%B8-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%83%9D%EC%84%B1/" /><meta property="og:url" content="https://haedal-uni.github.io//posts/Python%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-%ED%8C%8C%EC%9D%B4%EC%B0%A8%ED%8A%B8-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%83%9D%EC%84%B1/" /><meta property="og:site_name" content="Dal Blog" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2025-01-25T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Python을 활용한 파이차트 이미지 생성" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-01-25T23:35:33+09:00","datePublished":"2025-01-25T00:00:00+09:00","description":"Python을 활용한 파이 차트 이미지 생성 이번 글은 python에서 파이 차트를 만들어 js에서 이미지로 보여주는 과정을 정리한 글이다.","headline":"Python을 활용한 파이차트 이미지 생성","mainEntityOfPage":{"@type":"WebPage","@id":"https://haedal-uni.github.io//posts/Python%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-%ED%8C%8C%EC%9D%B4%EC%B0%A8%ED%8A%B8-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%83%9D%EC%84%B1/"},"url":"https://haedal-uni.github.io//posts/Python%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-%ED%8C%8C%EC%9D%B4%EC%B0%A8%ED%8A%B8-%EC%9D%B4%EB%AF%B8%EC%A7%80-%EC%83%9D%EC%84%B1/"}</script><title>Python을 활용한 파이차트 이미지 생성 | Dal Blog</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Dal Blog"><meta name="application-name" content="Dal Blog"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="https://raw.githubusercontent.com/cotes2020/chirpy-images/main/commons/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Dal Blog</a></div><div class="site-subtitle font-italic">한 걸음씩</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/haedal-uni" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Python을 활용한 파이차트 이미지 생성</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4 pb-5"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Python을 활용한 파이차트 이미지 생성</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1737730800" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jan 25, 2025 </em> </span> <span> Updated <em class="" data-ts="1737815733" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jan 25, 2025 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/haedal-uni">haedal-uni</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2166 words"> <em>12 min</em> read</span></div></div></div><div class="post-content"><h1 id="python을-활용한-파이-차트-이미지-생성">Python을 활용한 파이 차트 이미지 생성</h1><p>이번 글은 python에서 파이 차트를 만들어 js에서 이미지로 보여주는 과정을 정리한 글이다.</p><p><img data-src="https://github.com/user-attachments/assets/64c56c35-129c-4fea-b798-f1ab49705744" alt="AC_ 20250123-014953" data-proofer-ignore></p><p><br /><br /></p><h2 id="1-db-연결하기"><span class="mr-2">1. DB 연결하기</span><a href="#1-db-연결하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="환경변수-설정"><span class="mr-2">환경변수 설정</span><a href="#환경변수-설정" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>환경 변수 파일(.env)을 활용하여 DB 연결 정보를 보호한다.</p><pre><code class="language-.env">DB_TYPE=mysql
DB_DRIVER=pymysql
DB_HOST=127.0.0.1
DB_USER=root
DB_PASSWORD=@
DB_NAME=wow
DB_PORT=3300
</code></pre><p><code class="language-plaintext highlighter-rouge">127.0.0.1</code>은 로컬 컴퓨터를 가리키는 루프백 주소로 localhost와 동일하다.</p><p><br /><br /></p><h3 id="환경변수-로드"><span class="mr-2">환경변수 로드</span><a href="#환경변수-로드" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><code class="language-plaintext highlighter-rouge">dotenv</code> 패키지를 사용해 <code class="language-plaintext highlighter-rouge">.env</code> 파일의 내용을 불러온다.</p><div class="language-py highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="n">dotenv</span> <span class="kn">import</span> <span class="n">load_dotenv</span>
<span class="kn">import</span> <span class="n">os</span>

<span class="c1"># .env 파일 로드
</span><span class="nf">load_dotenv</span><span class="p">()</span>

<span class="n">db_type</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="nf">getenv</span><span class="p">(</span><span class="sh">"</span><span class="s">DB_TYPE</span><span class="sh">"</span><span class="p">)</span>
<span class="n">db_driver</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="nf">getenv</span><span class="p">(</span><span class="sh">"</span><span class="s">DB_DRIVER</span><span class="sh">"</span><span class="p">)</span>
<span class="n">db_host</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="nf">getenv</span><span class="p">(</span><span class="sh">"</span><span class="s">DB_HOST</span><span class="sh">"</span><span class="p">)</span>
<span class="n">db_user</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="nf">getenv</span><span class="p">(</span><span class="sh">"</span><span class="s">DB_USER</span><span class="sh">"</span><span class="p">)</span>
<span class="n">db_password</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="nf">getenv</span><span class="p">(</span><span class="sh">"</span><span class="s">DB_PASSWORD</span><span class="sh">"</span><span class="p">)</span>
<span class="n">db_name</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="nf">getenv</span><span class="p">(</span><span class="sh">"</span><span class="s">DB_NAME</span><span class="sh">"</span><span class="p">)</span>
<span class="n">db_port</span> <span class="o">=</span> <span class="nf">int</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="nf">getenv</span><span class="p">(</span><span class="sh">"</span><span class="s">DB_PORT</span><span class="sh">"</span><span class="p">))</span> <span class="c1"># port should be of type int   
</span></pre></table></code></div></div><p><br /><br /><br /></p><h3 id="pymysql로-db-조회하기"><span class="mr-2">PyMySQL로 DB 조회하기</span><a href="#pymysql로-db-조회하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>PyMySQL은 MySQL을 Python에서 사용할 수 있도록 하는 라이브러리다.</p><div class="language-py highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">pymysql</span>

<span class="c1"># DB 연결 설정  
</span><span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="p">.</span><span class="nf">connect</span><span class="p">(</span>
    <span class="n">host</span><span class="o">=</span><span class="n">db_host</span><span class="p">,</span>
    <span class="n">user</span><span class="o">=</span><span class="n">db_user</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="n">db_password</span><span class="p">,</span>
    <span class="n">db</span><span class="o">=</span><span class="n">db_name</span><span class="p">,</span>
    <span class="n">port</span><span class="o">=</span><span class="n">db_port</span><span class="p">,</span>
    <span class="n">charset</span><span class="o">=</span><span class="sh">"</span><span class="s">utf8</span><span class="sh">"</span>
<span class="p">)</span>

<span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="nf">cursor</span><span class="p">()</span> <span class="c1"># 튜플 형식으로 반환
</span><span class="sh">'''</span><span class="s">
# DATA DICTRIONARY로 변환 시)
cursor = conn.cursor(pymysql.cursors.DictCursor)

# 출력
[{</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="s">: 1, </span><span class="sh">'</span><span class="s">username</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="s">username</span><span class="sh">'</span><span class="s">, </span><span class="sh">'</span><span class="s">password</span><span class="sh">'</span><span class="s">: </span><span class="sh">'</span><span class="s">pw</span><span class="sh">'</span><span class="s">}]
</span><span class="sh">'''</span>

<span class="c1"># SQL 실행
</span><span class="n">username</span> <span class="o">=</span> <span class="sh">"</span><span class="s">username</span><span class="sh">"</span>  
<span class="n">sql</span> <span class="o">=</span> <span class="sh">"</span><span class="s">SELECT * FROM user WHERE username = %s</span><span class="sh">"</span>
<span class="n">cursor</span><span class="p">.</span><span class="nf">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="p">(</span><span class="n">username</span><span class="p">,))</span>

<span class="c1"># 결과 가져오기
</span><span class="n">result</span> <span class="o">=</span> <span class="n">cursor</span><span class="p">.</span><span class="nf">fetchall</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="c1"># ((1, 'username', 'pw'),)
</span>
<span class="c1"># 연결 닫기
</span><span class="n">cursor</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>
<span class="n">conn</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>
</pre></table></code></div></div><ul><li><p><code class="language-plaintext highlighter-rouge">connect</code> : DB 연결 객체를 생성</p><li><p><code class="language-plaintext highlighter-rouge">cursor</code> : SQL 쿼리를 실행하거나 결과를 가져온다.</p><li><p><code class="language-plaintext highlighter-rouge">execute</code> : SQL 쿼리를 실행</p><ul><li><code class="language-plaintext highlighter-rouge">execute(sql, params)</code> 형식으로 호출하며 파라미터를 튜플 형태로 전달한다.</ul><li><p><code class="language-plaintext highlighter-rouge">fetchall</code> : 실행한 쿼리의 결과를 모두 가져온다.</p><li><p><code class="language-plaintext highlighter-rouge">close</code> : 연결 종료</p></ul><p><br /><br /><br /><br /></p><h3 id="pandas로-db-조회하기"><span class="mr-2">pandas로 DB 조회하기</span><a href="#pandas로-db-조회하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><code class="language-plaintext highlighter-rouge">pandas.read_sql</code>은 SQL 쿼리를 실행하고 결과를 바로 DataFrame으로 반환한다.</p><p>*SQLAlchemy: Java의 JPA와 같이 Python의 ORM 라이브러리</p><div class="language-py highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="n">sqlalchemy</span> <span class="kn">import</span> <span class="n">create_engine</span>
<span class="kn">from</span> <span class="n">urllib.parse</span> <span class="kn">import</span> <span class="n">quote_plus</span>
<span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="c1"># 비밀번호 인코딩
</span><span class="n">encoded_password</span> <span class="o">=</span> <span class="nf">quote_plus</span><span class="p">(</span><span class="n">db_password</span><span class="p">)</span>

<span class="c1"># SQLAlchemy 엔진 생성(mysql+pymysql://username:password@host:port/database_name)
</span><span class="n">engine</span> <span class="o">=</span> <span class="nf">create_engine</span><span class="p">(</span>
    <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">db_type</span><span class="si">}</span><span class="s">+</span><span class="si">{</span><span class="n">db_driver</span><span class="si">}</span><span class="s">://</span><span class="si">{</span><span class="n">db_user</span><span class="si">}</span><span class="s">:</span><span class="si">{</span><span class="n">encoded_password</span><span class="si">}</span><span class="s">@</span><span class="si">{</span><span class="n">db_host</span><span class="si">}</span><span class="s">:</span><span class="si">{</span><span class="n">db_port</span><span class="si">}</span><span class="s">/</span><span class="si">{</span><span class="n">db_name</span><span class="si">}</span><span class="sh">"</span>
<span class="p">)</span>

<span class="sh">'''</span><span class="s">
# session 사용할 경우
from sqlalchemy.orm import sessionmaker

# SessionLocal 세션 클래스를 생성
SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)

- autocommit=Fasle: 자동커밋 비활성화
- autoflush=False: 자동 flush 비활성 
  - fk 문제는 true로 설정해 flush를 통해 트랜잭션 순서를 보장
- bind로 create_engine으로 생성한 db 엔진을 바인딩
</span><span class="sh">'''</span>

<span class="c1"># pandas.read_sql 사용
</span><span class="n">query</span> <span class="o">=</span> <span class="sh">"</span><span class="s">SELECT user.id FROM user WHERE username = %s</span><span class="sh">"</span>
<span class="n">username</span> <span class="o">=</span> <span class="sh">"</span><span class="s">hello</span><span class="sh">"</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">read_sql_query</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">engine</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">username</span><span class="p">,))</span>

<span class="nf">print</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="sh">'''</span><span class="s">
   id
0   1
</span><span class="sh">'''</span>
</pre></table></code></div></div><p>create_engine 참고 옵션</p><ul><li><p><code class="language-plaintext highlighter-rouge">pool_size</code> : 연결할 수 있는 connection의 크기를 지정</p><li><p><code class="language-plaintext highlighter-rouge">pool_recycle</code>: 주어진 초 이후에 connection을 재사용 (ex.<code class="language-plaintext highlighter-rouge">pool_recycle=600</code> : 600초 후 재사용)</p><li><p><code class="language-plaintext highlighter-rouge">echo=True</code> : query문 출력</p></ul><p><br /></p><p>*mysql의 경우 일정 시간동안 connection이 없을 경우 connection을 끊어버리게 되는데</p><p><code class="language-plaintext highlighter-rouge">pool_recycle</code>을 설정함으로써 강제로 끊어지는 현상을 막을 수가 있다.</p><p>참고로 <code class="language-plaintext highlighter-rouge">pool_recycle</code> 시간이 mysql의 <code class="language-plaintext highlighter-rouge">wait_timeout</code> 시간보다 작게 설정되어야 한다.</p><p><br /><br /></p><p>*여러번의 쿼리(INSERT, UPDATE 등)을 수행할 때는 sessionmaker를 적용하지만</p><p>여기서는 조회 한번 후 더 이상의 연결이 필요없어서 적용하지 않았다.</p><p><br /><br /></p><p><code class="language-plaintext highlighter-rouge">pd.read_sql</code>과 <code class="language-plaintext highlighter-rouge">pd.read_sql_query</code>의 차이를 찾아봤을 때</p><p><code class="language-plaintext highlighter-rouge">pd.read_sql</code>은 표준 쿼리에 더 적합한 반면</p><p><code class="language-plaintext highlighter-rouge">pd.read_sql_query</code>는 사용자 지정 조건이 있는 복잡한 쿼리를 실행하는 데 더 적합하다.</p><p><br /><br /></p><p>SQLAlchemy는 파이썬의 대표적인 ORM(Object-Relational Mapping) 라이브러리로</p><p>데이터베이스와의 상호작용을 객체 지향적으로 처리할 수 있게 해준다.</p><p>ORM의 특징인 SQL 쿼리를 직접 작성하지 않고도 데이터베이스 작업을 수행할 수 있으며</p><p>코드의 가독성과 유지보수성을 크게 향상시킬 수 있다.</p><p>SQLAlchemy에서 트랜잭션 관리는 Session 객체를 통해 수행한다.</p><p>Java는 <code class="language-plaintext highlighter-rouge">@Transactional</code>으로 관리하듯 Python은 session으로 관리하는 것 같다.</p><p><br /><br /><br /></p><h4 id="오류"><span class="mr-2">오류</span><a href="#오류" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>(pymysql.err.OperationalError) <br /> (2003, “Can’t connect to MySQL server on ‘@127.0.0.1’ ([Errno 11003] getaddrinfo failed)”)</p><p><code class="language-plaintext highlighter-rouge">engine</code>을 출력해보고 오류의 원인을 찾았다. 비번이 <code class="language-plaintext highlighter-rouge">@</code>로 설정되면서 생긴 문제였다.</p><p>engine에서 출력할 때 <code class="language-plaintext highlighter-rouge">Engine(mysql+pymysql://root:***@127.0.0.1:3306/db_name)</code>와 같이 출력되어야 하는데</p><p><code class="language-plaintext highlighter-rouge">Engine(mysql+pymysql://root:***@@127.0.0.1:3306/db_name)</code>으로 출력되고 있었다.</p><p>따라서 <code class="language-plaintext highlighter-rouge">quote_plus()</code>를 통해 해결했다.</p><p><br /><br /><br /><br /></p><h2 id="파이-차트-생성하기"><span class="mr-2">파이 차트 생성하기</span><a href="#파이-차트-생성하기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>DB에서 가져온 데이터를 활용해 matplotlib를 사용하여 파이 차트를 생성했다.</p><p>동적 쿼리를 작성할 때 <code class="language-plaintext highlighter-rouge">%s</code>를 통해 구현했다.</p><div class="language-java highlighter-rouge"><div class="code-header"> <span data-label-text="Java"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="nd">@Query</span><span class="o">(</span><span class="s">"select new com.eng.dto.LevelResponseDto(c.level, count(c.level)) from Sentence c where c.id in (select s.sentence.id from Study s where s.user.id = :userId) group by c.level"</span><span class="o">)</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">LevelResponseDto</span><span class="o">&gt;</span> <span class="nf">findLevelByUserId</span><span class="o">(</span><span class="nc">Long</span> <span class="n">userId</span><span class="o">);</span>
</pre></table></code></div></div><p>🔽</p><div class="language-py highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="c1"># 결과 출력
</span><span class="n">user_id</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">"</span><span class="s">id</span><span class="sh">"</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

<span class="n">query</span> <span class="o">=</span> <span class="p">(</span><span class="sh">"</span><span class="s">select s.level, count(s.level) cnt </span><span class="sh">"</span>
         <span class="sh">"</span><span class="s">from sentence s </span><span class="sh">"</span>
         <span class="sh">"</span><span class="s">join study st on s.id = st.sentence_id </span><span class="sh">"</span>
         <span class="sh">"</span><span class="s">where st.user_id = %s </span><span class="sh">"</span>
         <span class="sh">"</span><span class="s">group by s.level</span><span class="sh">"</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">con</span><span class="o">=</span><span class="n">engine</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">(</span><span class="n">user_id</span><span class="p">,))</span>

<span class="c1"># level 별 cnt 값 가져오기 
</span><span class="n">level_0</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">level</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">][</span><span class="sh">'</span><span class="s">cnt</span><span class="sh">'</span><span class="p">].</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># .iloc[0] : 첫 번째 값을 가져온다.    
</span><span class="n">level_1</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">level</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">][</span><span class="sh">'</span><span class="s">cnt</span><span class="sh">'</span><span class="p">].</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">level_2</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">level</span><span class="sh">'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">][</span><span class="sh">'</span><span class="s">cnt</span><span class="sh">'</span><span class="p">].</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></table></code></div></div><p>참고)</p><ul><li><p>Study 테이블에서 <code class="language-plaintext highlighter-rouge">UNIQUE user_id (user_id, word_id, meaning_id, sentence_id)</code>로 설정을 해 해당 조합은 중복이 되지않는다.</p><li><p><code class="language-plaintext highlighter-rouge">count()</code>는 중복을 포함해서 중복을 제거하고 싶다면 DISTINCT를 적용하면 된다.</p></ul><p><br /><br /><br /></p><div class="language-py highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">ratio</span> <span class="o">=</span> <span class="p">[</span><span class="n">level_0</span><span class="p">,</span> <span class="n">level_1</span><span class="p">,</span> <span class="n">level_2</span><span class="p">]</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">Easy</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">Medium</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">Hard</span><span class="sh">'</span><span class="p">]</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">#FF9999</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">#FFCC99</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">#99CCFF</span><span class="sh">'</span><span class="p">]</span> <span class="c1"># 색상 지정 
</span><span class="n">explode</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">]</span>

<span class="n">plt</span><span class="p">.</span><span class="nf">pie</span><span class="p">(</span><span class="n">ratio</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">autopct</span><span class="o">=</span><span class="sh">'</span><span class="s">%.1f%%</span><span class="sh">'</span><span class="p">,</span>
        <span class="n">startangle</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">counterclock</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
        <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">explode</span><span class="o">=</span><span class="n">explode</span><span class="p">,</span> <span class="n">shadow</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">show</span><span class="p">()</span>
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">autopct</code> : 부채꼴 안에 표시될 숫자의 형식을 지정<ul><li>→ 소수점 한자리까지 표시하도록 설정</ul><li><code class="language-plaintext highlighter-rouge">startangle</code> : 부채꼴이 그려지는 시작 각도를 설정(default : 0도)<ul><li><code class="language-plaintext highlighter-rouge">counterclock=False</code>로 설정하면 시계 방향 순서로 부채꼴 영역이 표시 (<code class="language-plaintext highlighter-rouge">true</code> : 반시계방향)</ul><li>explode : 부채꼴이 파이 차트의 중심에서 벗어나는 정도를 설정<ul><li>3% 만큼 벗어나도록 설정</ul><li><code class="language-plaintext highlighter-rouge">shadow = True</code> : 파이 차트에 그림자가 표시</ul><p><img data-src="https://github.com/user-attachments/assets/bff31aab-3141-4b98-a011-7797088cb353" alt="image" data-proofer-ignore></p><p><br /><br /></p><h3 id="이미지-저장-및-반환"><span class="mr-2">이미지 저장 및 반환</span><a href="#이미지-저장-및-반환" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>matplotlib.pyplot 모듈의 <code class="language-plaintext highlighter-rouge">savefig()</code> 함수를 사용해서 그래프를 이미지 파일 등으로 저장한다.</p><div class="language-py highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">io</span>
<span class="kn">from</span> <span class="n">flask</span> <span class="kn">import</span> <span class="n">send_file</span>
<span class="kn">import</span> <span class="n">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="c1"># 이미지 저장 및 반환
</span><span class="n">img</span> <span class="o">=</span> <span class="n">io</span><span class="p">.</span><span class="nc">BytesIO</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="nf">savefig</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="sh">'</span><span class="s">png</span><span class="sh">'</span><span class="p">)</span>
<span class="n">img</span><span class="p">.</span><span class="nf">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># 메모리 포인터를 처음으로 이동
</span><span class="n">plt</span><span class="p">.</span><span class="nf">close</span><span class="p">()</span>  <span class="c1"># 그래프 닫기
</span><span class="k">return</span> <span class="nf">send_file</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">mimetype</span><span class="o">=</span><span class="sh">'</span><span class="s">image/png</span><span class="sh">'</span><span class="p">)</span>
</pre></table></code></div></div><ul><li><code class="language-plaintext highlighter-rouge">format</code> : 저장할 이미지 형식</ul><p><br /><br /><br /></p><h2 id="flask로-이미지-전송"><span class="mr-2">Flask로 이미지 전송</span><a href="#flask로-이미지-전송" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Flask에서는 RequestParam을 통해서 작성할 떄 <code class="language-plaintext highlighter-rouge">request.args.get('username')</code>로 값을 받으면 되지만</p><p>PathVariable을 사용할 때는 <code class="language-plaintext highlighter-rouge">/&lt;username&gt;</code>와 같이 <code class="language-plaintext highlighter-rouge">&lt;&gt;</code>를 활용해야한다.</p><div class="language-py highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="n">flask_cors</span> <span class="kn">import</span> <span class="n">CORS</span>
<span class="kn">from</span> <span class="n">src.py_mysql</span> <span class="kn">import</span> <span class="n">levelPie</span>

<span class="nc">CORS</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">resources</span><span class="o">=</span><span class="p">{</span><span class="sa">r</span><span class="sh">"</span><span class="s">/my-page/*</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span><span class="sh">"</span><span class="s">origins</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">*</span><span class="sh">"</span><span class="p">}})</span>

<span class="nd">@app.route</span><span class="p">(</span><span class="sh">'</span><span class="s">/my-page/level/image/&lt;username&gt;</span><span class="sh">'</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="sh">'</span><span class="s">GET</span><span class="sh">'</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">level_pie_image</span><span class="p">(</span><span class="n">username</span><span class="p">):</span>
    <span class="k">return</span> <span class="nf">levelPie</span><span class="p">(</span><span class="n">username</span><span class="p">)</span>
</pre></table></code></div></div><p>본 프로젝트의 메인은 java+spring이기 때문에 cors에러가 뜬다.</p><p>따라서 해당 요청사항의 url만 cors를 허용했다.</p><p><br /><br /><br /></p><h3 id="error"><span class="mr-2">Error</span><a href="#error" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><strong>RuntimeError: main thread is not in main loop</strong></p><p>→ Agg 백엔드 적용하기</p><div class="language-py highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="n">matplotlib</span>
<span class="n">matplotlib</span><span class="p">.</span><span class="nf">use</span><span class="p">(</span><span class="sh">'</span><span class="s">Agg</span><span class="sh">'</span><span class="p">)</span>  <span class="c1"># GUI 백엔드 비활성화 
</span></pre></table></code></div></div><p>matplotlib는 기본적으로 <code class="language-plaintext highlighter-rouge">TkAgg</code> 백엔드를 사용하며 GUI 기반이다. (<code class="language-plaintext highlighter-rouge">TkAgg</code>, <code class="language-plaintext highlighter-rouge">FltkAgg</code>, <code class="language-plaintext highlighter-rouge">GTK</code>, <code class="language-plaintext highlighter-rouge">GTKAgg</code>, <code class="language-plaintext highlighter-rouge">GTKCairo</code>, <code class="language-plaintext highlighter-rouge">Wx</code>)</p><p>대부분의 GUI 백엔드는 메인 스레드에서 실행해야한다.</p><p>GUI가 없는 환경에서 실행하는 경우 에러가 발생한다. 따라서 GUI를 사용하지 않는 백엔드로 전환한다.</p><p><br /><br /><br /></p><h3 id="js"><span class="mr-2">js</span><a href="#js" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-js highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nf">levelPieIMG</span><span class="p">(){</span>
    <span class="kd">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`http://127.0.0.1:5000/my-page/level/image/</span><span class="p">${</span><span class="nx">username</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span> <span class="c1">// Flask 서버 URL</span>
    <span class="nx">$</span><span class="p">.</span><span class="nf">ajax</span><span class="p">({</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">url</span><span class="p">:</span> <span class="nx">url</span><span class="p">,</span>
        <span class="na">xhrFields</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">responseType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">blob</span><span class="dl">'</span>  <span class="c1">// 이미지 데이터를 Blob 형식으로 요청 </span>
        <span class="p">},</span>
        <span class="na">success</span><span class="p">:</span> <span class="nf">function </span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Blob URL 생성</span>
            <span class="kd">const</span> <span class="nx">imgBlob</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Blob</span><span class="p">([</span><span class="nx">response</span><span class="p">],</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">image/png</span><span class="dl">'</span> <span class="p">});</span>
            <span class="kd">const</span> <span class="nx">imgURL</span> <span class="o">=</span> <span class="nx">URL</span><span class="p">.</span><span class="nf">createObjectURL</span><span class="p">(</span><span class="nx">imgBlob</span><span class="p">);</span>

            <span class="c1">// 새 창 열기</span>
            <span class="kd">const</span> <span class="nx">newWindow</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="dl">""</span><span class="p">,</span> <span class="dl">"</span><span class="s2">_blank</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">width=640,height=480</span><span class="dl">"</span><span class="p">);</span>
            <span class="kd">const</span> <span class="nx">imgElement</span> <span class="o">=</span> <span class="nx">newWindow</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">"</span><span class="s2">img</span><span class="dl">"</span><span class="p">);</span>
            <span class="nx">imgElement</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">imgURL</span><span class="p">;</span>
            <span class="nx">imgElement</span><span class="p">.</span><span class="nx">alt</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Level Pie Chart</span><span class="dl">"</span><span class="p">;</span>
            <span class="nx">newWindow</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">imgElement</span><span class="p">);</span>
        <span class="p">},</span>
        <span class="na">error</span><span class="p">:</span> <span class="nf">function </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">이미지를 로드하는 중 오류가 발생했습니다.</span><span class="dl">"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">})</span>
<span class="p">}</span>
</pre></table></code></div></div><p><br /><br /><br /><br /></p><hr /><p><strong>REFERENCE</strong> <br /> SQLAlchemy</p><ul><li><a href="https://wikidocs.net/251999">SQLite, MySQL 등 데이터베이스 연동</a><li><a href="https://docs.sqlalchemy.org/en/20/orm/quickstart.html#select-with-join">SQLAlchemy_docs</a><li><a href="https://yujuwon.tistory.com/entry/SQLALCHEMY-session-%EA%B4%80%EB%A6%AC">[SQLALCHEMY] session 관리</a></ul><p>인코딩</p><ul><li><a href="https://otzslayer.github.io/python/2022/07/14/writing-a-connection-with-special-chars.html">SQLAlchemy에서 비밀번호에 ‘@’이 들어가서 연결에 실패할 때</a></ul><p>read_sql</p><ul><li><a href="https://www.iheavy.com/pd-read_sql-vs-pd-read_sql_query/">pd.read_sql vs pd.read_sql_query What’s the Difference?</a></ul><p>matplotlib</p><ul><li><a href="https://wikidocs.net/92114">22. Matplotlib 파이 차트 그리기</a><li><a href="https://wikidocs.net/141556">29. Matplotlib 이미지 저장하기</a></ul><p>RuntimeError: main thread is not in main loop</p><ul><li><a href="https://stackoverflow.com/questions/52839758/matplotlib-and-runtimeerror-main-thread-is-not-in-main-loop">Matplotlib and :RuntimeError: main thread is not in main loop:</a></ul><p>이미지 저장 및 띄우기</p><ul><li><a href="https://frhyme.github.io/python-lib/flask_matplotlib/">matplotlib와 flask 연결하기</a><li><a href="https://kyounghwan01.github.io/blog/JS/JSbasic/Blob-url/#createobjecturl">image Blob 객체를 url로 바꾸어 img 띄우기</a><li><a href="https://stackoverflow.com/questions/17657184/using-jquerys-ajax-method-to-retrieve-images-as-a-blob">Using jQuery’s ajax method to retrieve images as a blob</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/eng-project/'>Eng-Project</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/log/" class="post-tag no-text-decoration" >log</a> <a href="/tags/python/" class="post-tag no-text-decoration" >Python</a> <a href="/tags/flask/" class="post-tag no-text-decoration" >Flask</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Python%EC%9D%84+%ED%99%9C%EC%9A%A9%ED%95%9C+%ED%8C%8C%EC%9D%B4%EC%B0%A8%ED%8A%B8+%EC%9D%B4%EB%AF%B8%EC%A7%80+%EC%83%9D%EC%84%B1+-+Dal+Blog&url=https%3A%2F%2Fhaedal-uni.github.io%2F%2Fposts%2FPython%25EC%259D%2584-%25ED%2599%259C%25EC%259A%25A9%25ED%2595%259C-%25ED%258C%258C%25EC%259D%25B4%25EC%25B0%25A8%25ED%258A%25B8-%25EC%259D%25B4%25EB%25AF%25B8%25EC%25A7%2580-%25EC%2583%259D%25EC%2584%25B1%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Python%EC%9D%84+%ED%99%9C%EC%9A%A9%ED%95%9C+%ED%8C%8C%EC%9D%B4%EC%B0%A8%ED%8A%B8+%EC%9D%B4%EB%AF%B8%EC%A7%80+%EC%83%9D%EC%84%B1+-+Dal+Blog&u=https%3A%2F%2Fhaedal-uni.github.io%2F%2Fposts%2FPython%25EC%259D%2584-%25ED%2599%259C%25EC%259A%25A9%25ED%2595%259C-%25ED%258C%258C%25EC%259D%25B4%25EC%25B0%25A8%25ED%258A%25B8-%25EC%259D%25B4%25EB%25AF%25B8%25EC%25A7%2580-%25EC%2583%259D%25EC%2584%25B1%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fhaedal-uni.github.io%2F%2Fposts%2FPython%25EC%259D%2584-%25ED%2599%259C%25EC%259A%25A9%25ED%2595%259C-%25ED%258C%258C%25EC%259D%25B4%25EC%25B0%25A8%25ED%258A%25B8-%25EC%259D%25B4%25EB%25AF%25B8%25EC%25A7%2580-%25EC%2583%259D%25EC%2584%25B1%2F&text=Python%EC%9D%84+%ED%99%9C%EC%9A%A9%ED%95%9C+%ED%8C%8C%EC%9D%B4%EC%B0%A8%ED%8A%B8+%EC%9D%B4%EB%AF%B8%EC%A7%80+%EC%83%9D%EC%84%B1+-+Dal+Blog" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div><script src="https://utteranc.es/client.js" repo="haedal-uni/comments" issue-term="title" label="comments" theme="github-light" crossorigin="anonymous" async> </script></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/%ED%86%B5%ED%95%A9-%ED%8C%8C%EC%9D%BC-%EC%9E%91%EC%84%B1%ED%95%98%EA%B8%B0/">통합 파일 작성하기</a><li><a href="/posts/Excel_%EC%9E%90%EB%8F%99%ED%99%94/">Excel_자동화</a><li><a href="/posts/%EB%8B%A8%EC%B6%95%ED%82%A4/">단축키</a><li><a href="/posts/%EA%B4%91%EA%B3%A0-%EB%8D%B0%EC%9D%B4%ED%84%B0/">광고 데이터</a><li><a href="/posts/Google-Analytics/">Google analytics</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/study/">study</a> <a class="post-tag" href="/tags/summary/">summary</a> <a class="post-tag" href="/tags/chat/">Chat</a> <a class="post-tag" href="/tags/log/">log</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/websocket/">WebSocket</a> <a class="post-tag" href="/tags/data-structure/">Data-Structure</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/SocketIO%EC%99%80-NLTK%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-%EC%B1%97%EB%B4%87-%EA%B5%AC%ED%98%84/"><div class="card-body"> <em class="small" data-ts="1737471600" data-df="ll" > Jan 22, 2025 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Socketio와 nltk를 사용한 챗봇 구현</h3><div class="text-muted small"><p> Python-SocketIO와 NLTK를 사용한 챗봇 구현 Python-SocketIO를 활용하여 실시간 양방향 통신을 구현하고 NLTK를 사용한 간단한 챗봇 기능을 추가했다. Spring과 WebSocket으로 채팅을 구현한 경험이 있어 이를 비교하면서 적용하니 이해가 더 쉬웠다. Spring WebSocket 경험이 있다면 SocketIO을 이...</p></div></div></a></div><div class="card"> <a href="/posts/%EC%83%81%ED%98%B8%EC%9E%91%EC%9A%A9%EA%B3%BC-%EC%84%B1%EA%B3%BC-%EB%B6%84%EC%84%9D/"><div class="card-body"> <em class="small" data-ts="1739977200" data-df="ll" > Feb 20, 2025 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>상호작용과 성과 분석</h3><div class="text-muted small"><p> 문제 정의 사용자들의 학습성과를 높이려면? 기능 구현을 하면서 사용자들의 학습 성과를 높이려면 어떤 요소가 중요한지 고민하며 분석을 진행했다. 데이터는 Kaggle의 ONLINE EDUCATION SYSTEM REVIEW 데이터를 사용했으며 실제 프로젝트 데이터는 양이 적어 편향된 결과를 가져올 수 있어 제외했다. 데이터 전처리 1 2 ...</p></div></div></a></div><div class="card"> <a href="/posts/%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B6%84%EC%84%9D/"><div class="card-body"> <em class="small" data-ts="1737817200" data-df="ll" > Jan 26, 2025 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>데이터 분석</h3><div class="text-muted small"><p> 데이터 분석 1. 데이터 가져오기 1 2 3 4 5 import pandas as pd # CSV 파일 불러오기 data = pd.read_csv(&#39;../kaggle/StudentPerformanceFactors.csv&#39;) print(data.head()) pandas : 데이터 처리 및 분석을 위한 라이브러리 read_csv : CSV 파일을 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/SocketIO%EC%99%80-NLTK%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%9C-%EC%B1%97%EB%B4%87-%EA%B5%AC%ED%98%84/" class="btn btn-outline-primary" prompt="Older"><p>Socketio와 nltk를 사용한 챗봇 구현</p></a> <a href="/posts/%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B6%84%EC%84%9D/" class="btn btn-outline-primary" prompt="Newer"><p>데이터 분석</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/haedal-uni">haedal-uni</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/study/">study</a> <a class="post-tag" href="/tags/summary/">summary</a> <a class="post-tag" href="/tags/chat/">Chat</a> <a class="post-tag" href="/tags/log/">log</a> <a class="post-tag" href="/tags/java/">Java</a> <a class="post-tag" href="/tags/jpa/">JPA</a> <a class="post-tag" href="/tags/project/">project</a> <a class="post-tag" href="/tags/websocket/">WebSocket</a> <a class="post-tag" href="/tags/data-structure/">Data-Structure</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-K7KC8XYH0P"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-K7KC8XYH0P'); }); </script>
